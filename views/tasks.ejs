<%- include('partials/header') %>

<h1>Tasks</h1>
<div class="filters">
  <a class="btn" href="/tasks">All</a>
  <a class="btn" href="/tasks?status=queued">Queued</a>
  <a class="btn" href="/tasks?status=running">Running</a>
  <a class="btn" href="/tasks?status=done">Done</a>
  <a class="btn" href="/tasks?status=failed">Failed</a>
</div>

<table>
  <thead>
    <tr>
      <th>ID</th><th>Title</th><th>Agent</th><th>Status</th><th>Created</th>
    </tr>
  </thead>
  <tbody>
    <% for (const t of tasks) { %>
      <tr>
        <td><a href="/tasks/<%= t.id %>"><%= t.id %></a></td>
        <td><%= t.title %></td>
        <td><code><%= t.agent_id %></code></td>
        <td><span class="pill <%= t.status %>"><%= t.status %></span></td>
        <td class="muted"><%= t.created_at %></td>
      </tr>
    <% } %>
  </tbody>
</table>

<%- include('partials/footer') %>
